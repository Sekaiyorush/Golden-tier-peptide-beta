import{c as o,b as h,j as e,X as p,f as d}from"./index-BKDTYZqH.js";import{C as i}from"./circle-check-B11OI8KM.js";import{M as u}from"./map-pin-B4YT-9nz.js";import{P as b,C as j}from"./package-ZSiiY1Dy.js";import{T as f}from"./truck-D9Yb-K3i.js";const N=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],P=o("box",N);function S({order:s,onClose:c}){const{db:r}=h(),a=r.customers.find(t=>t.id===s.customerId),n=t=>{switch(t){case"delivered":return e.jsx(i,{className:"h-6 w-6 text-emerald-500"});case"shipped":return e.jsx(f,{className:"h-6 w-6 text-blue-500"});case"processing":return e.jsx(d,{className:"h-6 w-6 text-amber-500"});case"cancelled":return e.jsx(j,{className:"h-6 w-6 text-red-500"});default:return e.jsx(d,{className:"h-6 w-6 text-slate-400"})}},x=t=>{switch(t){case"delivered":return"bg-emerald-50 border-emerald-200 text-emerald-700";case"shipped":return"bg-blue-50 border-blue-200 text-blue-700";case"processing":return"bg-amber-50 border-amber-200 text-amber-700";case"cancelled":return"bg-red-50 border-red-200 text-red-700";default:return"bg-slate-50 border-slate-200 text-slate-700"}},m=[{status:"pending",label:"Order Placed",date:s.createdAt,completed:!0},{status:"processing",label:"Processing",date:"In Progress",completed:["processing","shipped","delivered"].includes(s.status)},{status:"shipped",label:"Shipped",date:"Pending",completed:["shipped","delivered"].includes(s.status)},{status:"delivered",label:"Delivered",date:"Pending",completed:s.status==="delivered"}];return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm z-[100]",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Order Details"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["ID: ",s.id]})]}),e.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(p,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[e.jsxs("div",{className:`p-4 rounded-xl border flex items-center space-x-4 ${x(s.status)}`,children:[n(s.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold capitalize",children:s.status}),e.jsxs("p",{className:"text-sm opacity-80",children:[s.status==="delivered"&&"Package has been delivered to the destination.",s.status==="shipped"&&"Package is currently in transit with the carrier.",s.status==="processing"&&"We are preparing your items for shipment.",s.status==="pending"&&"We have received your order and are waiting to process it.",s.status==="cancelled"&&"This order has been cancelled."]})]})]}),s.status!=="cancelled"&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Tracking History"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3.5 top-3 bottom-3 w-0.5 bg-slate-200"}),e.jsx("div",{className:"space-y-6",children:m.map((t,l)=>e.jsxs("div",{className:"relative flex items-center space-x-4",children:[e.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center relative z-10 ${t.completed?"bg-indigo-600 text-white":"bg-slate-200 text-slate-400"}`,children:t.completed?e.jsx(i,{className:"h-4 w-4"}):e.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t.completed?"text-slate-900":"text-slate-500"}`,children:t.label}),e.jsx("p",{className:"text-xs text-slate-500",children:t.date})]})]},l))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 flex items-center",children:[e.jsx(u,{className:"h-4 w-4 mr-2"})," Shipping Address"]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg text-sm text-slate-600",children:[e.jsx("p",{className:"font-medium text-slate-900 mb-1",children:s.customerName}),a?.address?.street?e.jsxs("address",{className:"not-italic",children:[a.address.street,e.jsx("br",{}),a.address.city,", ",a.address.state," ",a.address.zip,e.jsx("br",{}),a.address.country]}):e.jsx("p",{children:"Shipping address not provided or legacy order."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 flex items-center",children:[e.jsx(b,{className:"h-4 w-4 mr-2"})," Order Metadata"]}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg text-sm space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Date Placed"}),e.jsx("span",{className:"text-slate-900 font-medium",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Payment Status"}),e.jsx("span",{className:"text-slate-900 font-medium capitalize",children:s.paymentStatus})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Items Summary"}),e.jsxs("div",{className:"bg-white border text-sm border-slate-200 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"divide-y divide-slate-100",children:s.items.map((t,l)=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[t.quantity,"x"]}),e.jsx("div",{className:"text-slate-600",children:t.name})]}),e.jsxs("div",{className:"font-medium text-slate-900",children:["$",(t.price*t.quantity).toFixed(2)]})]},l))}),e.jsxs("div",{className:"bg-slate-50 p-4 border-t border-slate-200 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Total"}),e.jsxs("span",{className:"font-bold text-slate-900 text-lg",children:["$",s.total.toFixed(2)]})]})]})]})]})]})})}export{P as B,S as O};
