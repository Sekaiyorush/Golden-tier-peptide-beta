import{c as A,D,u as M,b as L,r as d,j as e,d as y,L as m,f as i,F as z}from"./index-zV9odv38.js";import{A as E}from"./arrow-left-Cpx-tOu5.js";import{C as v}from"./circle-check-VMs1QZpj.js";import{T as w}from"./truck-CC0t-wNM.js";import{C as V}from"./credit-card-BpyaPXZl.js";import{L as k}from"./landmark-Dyxi8iYw.js";import{M as H}from"./map-pin-z6rHwwbo.js";import{B as W}from"./building-2-2Upp2T9C.js";const F=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],S=A("bitcoin",F);function X(){const{items:c,cartSubtotal:C,discountAmount:b,cartTotal:o,clearCart:P}=D(),{user:x,isPartner:_}=M(),{createSecureOrder:O}=L(),[a,u]=d.useState(1),[f,j]=d.useState(!1),[h,T]=d.useState(""),[g,p]=d.useState(""),[r,N]=d.useState("bank_transfer"),[t,q]=d.useState({fullName:x?.name||"",email:x?.email||"",phone:"",address:"",city:"",state:"",zip:"",country:"",notes:""}),l=(s,n)=>{q($=>({...$,[s]:n}))},B=t.fullName.trim()!==""&&t.email.trim()!==""&&t.phone.trim()!==""&&t.address.trim()!==""&&t.city.trim()!==""&&t.country.trim()!=="",I=async()=>{if(!(c.length===0||!x)){j(!0),p("");try{const s=await O({items:c.map(n=>({product_id:n.product.id,quantity:n.quantity,variant_sku:n.selectedVariant?.sku||null})),shipping_name:t.fullName,shipping_email:t.email,shipping_phone:t.phone,shipping_address:t.address,shipping_city:t.city,shipping_state:t.state,shipping_zip:t.zip,shipping_country:t.country,shipping_notes:t.notes,payment_method:r});s.success&&s.order_id?(T(s.order_id),P(),u(3)):p(s.error||"Failed to place order. Please try again.")}catch(s){console.error("Order placement failed:",s),p("An unexpected error occurred. Please try again.")}finally{j(!1)}}};return c.length===0&&a!==3?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(y,{className:"h-10 w-10 text-slate-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-slate-500 mb-6",children:"Add some products before checking out."}),e.jsx(m,{to:"/products",className:"inline-flex items-center px-5 py-2.5 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium",children:"Browse Products"})]})}):e.jsx("div",{className:"min-h-screen bg-slate-50 py-8 md:py-12",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-5xl",children:[e.jsxs(m,{to:"/products",className:"inline-flex items-center text-sm text-slate-500 hover:text-slate-900 mb-6 transition-colors",children:[e.jsx(E,{className:"h-4 w-4 mr-2"})," Continue Shopping"]}),e.jsx("div",{className:"flex items-center justify-center mb-10 gap-2",children:[{num:1,label:"Shipping"},{num:2,label:"Payment"},{num:3,label:"Confirmation"}].map((s,n)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-semibold transition-colors
                ${a>=s.num?"bg-slate-900 text-white":"bg-slate-200 text-slate-500"}`,children:a>s.num?e.jsx(v,{className:"h-4 w-4"}):s.num}),e.jsx("span",{className:`ml-2 text-sm font-medium hidden sm:inline ${a>=s.num?"text-slate-900":"text-slate-400"}`,children:s.label}),n<2&&e.jsx("div",{className:`w-12 sm:w-20 h-0.5 mx-3 ${a>s.num?"bg-slate-900":"bg-slate-200"}`})]},s.num))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[a===1&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 md:p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Shipping Information"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Where should we send your order?"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Full Name *"}),e.jsx("input",{type:"text",required:!0,value:t.fullName,onChange:s=>l("fullName",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:t.email,onChange:s=>l("email",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Phone Number *"}),e.jsx("input",{type:"tel",required:!0,value:t.phone,onChange:s=>l("phone",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300",placeholder:"+1 (555) 000-0000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Street Address *"}),e.jsx("input",{type:"text",required:!0,value:t.address,onChange:s=>l("address",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300",placeholder:"123 Main St, Apt 4"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"City *"}),e.jsx("input",{type:"text",required:!0,value:t.city,onChange:s=>l("city",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"State"}),e.jsx("input",{type:"text",value:t.state,onChange:s=>l("state",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"ZIP"}),e.jsx("input",{type:"text",value:t.zip,onChange:s=>l("zip",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Country *"}),e.jsx("input",{type:"text",required:!0,value:t.country,onChange:s=>l("country",s.target.value),className:"w-full h-11 px-4 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300",placeholder:"US"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Order Notes (optional)"}),e.jsx("textarea",{rows:2,value:t.notes,onChange:s=>l("notes",s.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-200 focus:ring-2 focus:ring-slate-200 focus:border-slate-300 resize-none",placeholder:"Special delivery instructions..."})]})]}),e.jsx("button",{onClick:()=>u(2),disabled:!B,className:"w-full mt-6 h-12 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:"Continue to Payment"})]}),a===2&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 md:p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:e.jsx(V,{className:"h-5 w-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Payment Method"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Select how you'd like to pay"})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("button",{onClick:()=>N("bank_transfer"),className:`w-full p-4 rounded-xl border-2 text-left transition-all flex items-start gap-4
                      ${r==="bank_transfer"?"border-slate-900 bg-slate-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0
                      ${r==="bank_transfer"?"bg-slate-900 text-white":"bg-slate-100 text-slate-500"}`,children:e.jsx(k,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Bank Transfer"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"Transfer directly to our bank account. Order ships after payment confirmation."})]})]}),e.jsxs("button",{onClick:()=>N("crypto"),className:`w-full p-4 rounded-xl border-2 text-left transition-all flex items-start gap-4
                      ${r==="crypto"?"border-slate-900 bg-slate-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0
                      ${r==="crypto"?"bg-slate-900 text-white":"bg-slate-100 text-slate-500"}`,children:e.jsx(S,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Cryptocurrency"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"Pay with BTC, ETH, or USDT. Details provided after order placement."})]})]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-amber-800 mb-1",children:"How it works:"}),e.jsxs("ol",{className:"text-sm text-amber-700 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Place your order below"}),e.jsx("li",{children:"You'll receive payment details on the confirmation page"}),e.jsx("li",{children:"Send payment within 48 hours"}),e.jsx("li",{children:"We verify and ship your order"})]})]}),g&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:g})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>u(1),className:"px-6 h-12 border border-slate-200 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Back"}),e.jsx("button",{onClick:I,disabled:f,className:"flex-1 h-12 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:f?"Placing Order...":`Place Order â€” ${i(o)}`})]})]}),a===3&&e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 md:p-8 shadow-sm",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(v,{className:"h-8 w-8 text-emerald-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Order Placed Successfully!"}),e.jsxs("p",{className:"text-slate-500",children:["Order ID: ",e.jsx("span",{className:"font-mono font-medium text-slate-700",children:h})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200 mb-6",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r==="bank_transfer"?e.jsx(k,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"}),"Payment Instructions"]}),r==="bank_transfer"?e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200",children:[e.jsx("span",{className:"text-slate-500",children:"Bank"}),e.jsx("span",{className:"font-medium text-slate-900",children:"Contact us for details"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200",children:[e.jsx("span",{className:"text-slate-500",children:"Reference"}),e.jsx("span",{className:"font-mono font-medium text-slate-900",children:h})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200",children:[e.jsx("span",{className:"text-slate-500",children:"Amount"}),e.jsx("span",{className:"font-bold text-slate-900",children:i(o)})]}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Please include your Order ID as the payment reference. We will confirm your payment and ship within 1-2 business days."})]}):e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200",children:[e.jsx("span",{className:"text-slate-500",children:"Amount"}),e.jsxs("span",{className:"font-bold text-slate-900",children:[i(o)," equivalent"]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-200",children:[e.jsx("span",{className:"text-slate-500",children:"Reference"}),e.jsx("span",{className:"font-mono font-medium text-slate-900",children:h})]}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Please contact us at our support email with your Order ID to receive the wallet address for payment. We accept BTC, ETH, and USDT."})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200 mb-6",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"})," Shipping To"]}),e.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[e.jsx("p",{className:"font-medium text-slate-900",children:t.fullName}),e.jsx("p",{children:t.address}),e.jsxs("p",{children:[t.city,t.state?`, ${t.state}`:""," ",t.zip]}),e.jsx("p",{children:t.country}),e.jsx("p",{className:"text-slate-500",children:t.phone})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(m,{to:"/dashboard",className:"flex-1 h-12 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors flex items-center justify-center",children:"View My Orders"}),e.jsx(m,{to:"/products",className:"flex-1 h-12 border border-slate-200 rounded-lg font-medium text-slate-700 hover:bg-slate-50 transition-colors flex items-center justify-center",children:"Continue Shopping"})]})]})]}),a!==3&&e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm sticky top-24",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"})," Order Summary"]}),e.jsx("ul",{className:"space-y-3 mb-4",children:c.map(s=>e.jsxs("li",{className:"flex justify-between items-start text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-slate-900",children:s.product.name}),s.selectedVariant&&e.jsx("p",{className:"text-xs text-slate-400",children:s.selectedVariant.label}),e.jsxs("p",{className:"text-slate-400",children:["Qty: ",s.quantity]})]}),e.jsx("span",{className:"font-medium text-slate-700 ml-4",children:i(z(s)*s.quantity)})]},`${s.product.id}-${s.selectedVariant?.sku||"base"}`))}),e.jsxs("div",{className:"border-t border-slate-100 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Subtotal"}),e.jsx("span",{className:"text-slate-900",children:i(C)})]}),_&&b>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-emerald-600",children:"Partner Discount"}),e.jsxs("span",{className:"text-emerald-600",children:["-",i(b)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Shipping"}),e.jsx("span",{className:"text-slate-900",children:"Calculated after payment"})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-slate-100",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:i(o)})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-100 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(W,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"Secure & encrypted checkout"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(w,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"Ships within 1-3 business days"})]})]})]})})]})]})})}export{X as CheckoutPage};
