import{c as P,r as s,u as I,a as R,j as e,C as L,X as M,U as T,A as q,L as O}from"./index-zV9odv38.js";import{M as U}from"./mail-D0LxlggC.js";import{L as g}from"./lock-rKyoM4CP.js";import{E as V}from"./eye-off-BSTVGHXd.js";import{E as z}from"./eye-DiSX4lNb.js";const $=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],B=P("ticket",$);function Z(){const[x,j]=s.useState(""),[p,N]=s.useState(""),[o,w]=s.useState(""),[m,A]=s.useState(""),[c,y]=s.useState(""),[i,C]=s.useState(!1),[u,l]=s.useState(""),[h,b]=s.useState(!1),[v,f]=s.useState(!1),[a,d]=s.useState(null),{register:F,validateCode:D}=I(),k=R(),E=async t=>{if(!t){d(null);return}f(!0),await new Promise(n=>setTimeout(n,300));const r=await D(t);if(r.valid&&r.code){let n="User";r.code.type==="admin_partner"&&(n="Partner"),r.code.type==="partner_user"&&(n="Customer (via Partner)"),d({valid:!0,message:`Valid ${n} invitation code`,type:r.code.type})}else d({valid:!1,message:r.error||"Invalid invitation code"});f(!1)},S=t=>{y(t.toUpperCase()),t.length>=6?E(t.toUpperCase()):d(null)},_=async t=>{if(t.preventDefault(),l(""),!c){l("Invitation code is required");return}if(!a?.valid){l("Please enter a valid invitation code");return}if(o!==m){l("Passwords do not match");return}if(o.length<8){l("Password must be at least 8 characters");return}b(!0);const r=await F(x,p,o,c);r.success?k("/"):l(r.error||"Registration failed"),b(!1)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col relative overflow-hidden font-sans",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 bg-[radial-gradient(ellipse_at_center,_rgba(212,175,55,0.03)_0%,_rgba(255,255,255,1)_60%)]"}),e.jsx("div",{className:"flex-1 flex items-center justify-center py-12 px-6 relative z-10 w-full",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:"/brand-logo-gold.png",alt:"Golden Tier Logo",className:"h-28 w-auto object-contain drop-shadow-[0_0_15px_rgba(212,175,55,0.2)]"})}),e.jsx("h1",{className:"text-4xl font-serif tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-[#AA771C] via-[#F3E5AB] to-[#D4AF37] mb-3",children:"Create Account"}),e.jsx("p",{className:"text-[10px] font-bold tracking-[0.3em] uppercase text-[#AA771C]",children:"Invitation-only Registration"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-md border border-[#D4AF37]/20 p-10 shadow-[0_8px_40px_rgba(0,0,0,0.04)] relative",children:[u&&e.jsx("div",{className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm mb-4",children:u}),e.jsxs("form",{className:"space-y-6",onSubmit:_,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mb-2",children:["Invitation Code ",e.jsx("span",{className:"text-[#D4AF37]",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-[#D4AF37]/50"}),e.jsx("input",{type:"text",value:c,onChange:t=>S(t.target.value),className:`w-full h-12 pl-12 pr-12 bg-transparent border focus:ring-0 transition-all uppercase text-sm text-slate-800 placeholder-slate-300 ${a?.valid?"border-[#D4AF37] bg-[#D4AF37]/5":a&&!a.valid?"border-red-300 bg-red-50/50":"border-[#D4AF37]/20 focus:border-[#D4AF37]"}`,placeholder:"ENTER INVITATION CODE",required:!0}),v&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"})}),!v&&a&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:a.valid?e.jsx(L,{className:"h-5 w-5 text-emerald-500"}):e.jsx(M,{className:"h-5 w-5 text-red-500"})})]}),a&&e.jsx("p",{className:`text-xs mt-1.5 ${a.valid?"text-emerald-600":"text-red-600"}`,children:a.message}),e.jsx("p",{className:"text-[10px] tracking-wide uppercase text-slate-400 mt-2",children:"Need a code? Contact an admin"})]}),e.jsx("div",{className:"border-t border-[#D4AF37]/20 pt-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-[#D4AF37]/50"}),e.jsx("input",{type:"text",value:x,onChange:t=>j(t.target.value),className:"w-full h-12 pl-12 pr-4 bg-transparent border border-[#D4AF37]/20 focus:border-[#D4AF37] focus:ring-0 text-sm transition-all text-slate-800 placeholder-slate-300",placeholder:"ENTER FULL NAME",required:!0})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-[#D4AF37]/50"}),e.jsx("input",{type:"email",value:p,onChange:t=>N(t.target.value),className:"w-full h-12 pl-12 pr-4 bg-transparent border border-[#D4AF37]/20 focus:border-[#D4AF37] focus:ring-0 text-sm transition-all text-slate-800 placeholder-slate-300",placeholder:"ENTER YOUR EMAIL",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-[#D4AF37]/50"}),e.jsx("input",{type:i?"text":"password",value:o,onChange:t=>w(t.target.value),className:"w-full h-12 pl-12 pr-12 bg-transparent border border-[#D4AF37]/20 focus:border-[#D4AF37] focus:ring-0 text-sm transition-all text-slate-800 placeholder-slate-300",placeholder:"CREATE PASSWORD",required:!0}),e.jsx("button",{type:"button",onClick:()=>C(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 hover:text-[#D4AF37] transition-colors",children:i?e.jsx(V,{className:"h-4 w-4"}):e.jsx(z,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-[#D4AF37]/50"}),e.jsx("input",{type:i?"text":"password",value:m,onChange:t=>A(t.target.value),className:"w-full h-12 pl-12 pr-4 bg-transparent border border-[#D4AF37]/20 focus:border-[#D4AF37] focus:ring-0 text-sm transition-all text-slate-800 placeholder-slate-300",placeholder:"CONFIRM PASSWORD",required:!0})]})]}),e.jsxs("button",{type:"submit",disabled:h||!a?.valid,className:"mt-8 group relative w-full h-12 bg-[#111] text-white font-semibold text-[10px] tracking-[0.2em] uppercase transition-all disabled:opacity-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-[#D4AF37]/20 to-transparent -translate-x-[150%] animate-[shimmer_3s_infinite]"}),e.jsxs("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:[e.jsx("span",{children:h?"Creating account...":"Create Account"}),e.jsx(q,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gradient-to-r from-[#D4AF37] to-[#F3E5AB] transition-all duration-500 ease-out group-hover:w-full"})]})]}),e.jsxs("div",{className:"mt-8 text-center text-[10px] tracking-[0.2em] uppercase font-bold text-slate-400",children:[e.jsx("span",{children:"Already have an account? "}),e.jsx(O,{to:"/login",className:"text-[#AA771C] hover:text-[#D4AF37] ml-2 transition-colors border-b border-[#AA771C]/30 hover:border-[#D4AF37] pb-0.5",children:"Sign In"})]})]})]})})]})}export{Z as Register};
