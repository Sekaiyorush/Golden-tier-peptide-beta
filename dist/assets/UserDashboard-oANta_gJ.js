import{u as k,b as C,r as o,j as e,d as x,U as N,L as v,f as A}from"./index-BKDTYZqH.js";import{B as E,O as S}from"./OrderDetailsModal-41Yi0_QU.js";import{P as _}from"./package-ZSiiY1Dy.js";import{C as O}from"./credit-card-YHdug30t.js";import{C as I}from"./chevron-right-DDrzO6fu.js";import{E as w}from"./eye-DNocfqUC.js";import{M as T}from"./map-pin-B4YT-9nz.js";import{T as P}from"./truck-D9Yb-K3i.js";import{C as L}from"./circle-check-B11OI8KM.js";function q(){const{user:i}=k(),{db:h,updateCustomer:D}=C(),[c,u]=o.useState("overview"),[g,m]=o.useState(null),[n,p]=o.useState(!1),[b,f]=o.useState(!1),l=h.orders.filter(t=>t.customerId===i?.id),s=h.customers.find(t=>t.email===i?.email)||{id:i?.id||"",name:i?.name||"",email:i?.email||"",phone:"",address:void 0,totalOrders:l.length,totalSpent:l.reduce((t,d)=>t+d.total,0),joinedAt:"2024-01-01",status:"active"},[a,r]=o.useState({name:s.name,phone:s.phone||"",street:s.address?.street||"",city:s.address?.city||"",state:s.address?.state||"",zip:s.address?.zip||"",country:s.address?.country||""}),y=async()=>{f(!0);try{await D(s.id,{name:a.name,phone:a.phone,address:{street:a.street,city:a.city,state:a.state,zip:a.zip,country:a.country}}),p(!1)}catch(t){console.error(t),alert("Failed to save profile. Please try again.")}finally{f(!1)}},j=t=>{switch(t){case"delivered":return e.jsx(L,{className:"h-4 w-4 text-emerald-500"});case"shipped":return e.jsx(P,{className:"h-4 w-4 text-blue-500"});case"processing":return e.jsx(A,{className:"h-4 w-4 text-amber-500"});default:return e.jsx(A,{className:"h-4 w-4 text-slate-400"})}};return e.jsxs("div",{className:"min-h-screen bg-white py-12 md:py-24 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none z-0 bg-[radial-gradient(ellipse_at_center,_rgba(212,175,55,0.03)_0%,_rgba(255,255,255,1)_60%)]"}),e.jsxs("div",{className:"container px-6 max-w-5xl mx-auto relative z-10",children:[e.jsxs("div",{className:"mb-12 border-b border-[#D4AF37]/20 pb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-serif text-slate-900 mb-2 tracking-tight",children:"My Account"}),e.jsxs("p",{className:"text-sm text-slate-400 tracking-wide",children:["Welcome back, ",i?.name]})]}),e.jsx("div",{className:"flex flex-wrap gap-8 mb-12",children:[{id:"overview",label:"OVERVIEW",icon:_},{id:"orders",label:"ORDERS",icon:x},{id:"profile",label:"PROFILE",icon:N}].map(t=>e.jsxs("button",{onClick:()=>u(t.id),className:`flex items-center space-x-2 pb-2 text-[10px] font-bold tracking-[0.2em] uppercase transition-all relative ${c===t.id?"text-[#D4AF37]":"text-slate-400 hover:text-[#AA771C]"}`,children:[e.jsx(t.icon,{className:"h-4 w-4"}),e.jsx("span",{children:t.label}),c===t.id&&e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-[#D4AF37]"})]},t.id))}),c==="overview"&&e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"bg-white p-8 border border-[#D4AF37]/20 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"Total Orders"}),e.jsx("p",{className:"text-4xl font-serif text-slate-900",children:s.totalOrders})]}),e.jsx("div",{className:"w-12 h-12 bg-white border border-[#D4AF37]/10 flex items-center justify-center shadow-sm",children:e.jsx(x,{className:"h-5 w-5 text-[#D4AF37]"})})]})}),e.jsx("div",{className:"bg-white p-8 border border-[#D4AF37]/20 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"Total Spent"}),e.jsxs("p",{className:"text-4xl font-serif text-slate-900",children:["$",s.totalSpent.toFixed(2)]})]}),e.jsx("div",{className:"w-12 h-12 bg-white border border-[#D4AF37]/10 flex items-center justify-center shadow-sm",children:e.jsx(O,{className:"h-5 w-5 text-[#D4AF37]"})})]})}),e.jsx("div",{className:"bg-white p-8 border border-[#D4AF37]/20 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"Member Since"}),e.jsx("p",{className:"text-2xl font-serif text-slate-900 mt-2",children:new Date(s.joinedAt).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]}),e.jsx("div",{className:"w-12 h-12 bg-white border border-[#D4AF37]/10 flex items-center justify-center shadow-sm",children:e.jsx(N,{className:"h-5 w-5 text-[#D4AF37]"})})]})})]}),e.jsxs("div",{className:"bg-white border border-[#D4AF37]/20 overflow-hidden shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[e.jsxs("div",{className:"p-8 border-b border-[#D4AF37]/10 flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-serif text-slate-900 tracking-tight",children:"Recent Orders"}),e.jsxs("button",{onClick:()=>u("orders"),className:"text-[10px] font-bold tracking-[0.2em] uppercase text-slate-400 hover:text-[#AA771C] flex items-center transition-colors group",children:["VIEW ALL ",e.jsx(I,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs("div",{className:"divide-y divide-[#D4AF37]/10",children:[l.slice(0,3).map(t=>e.jsxs("div",{className:"p-8 flex flex-col md:flex-row md:items-center justify-between hover:bg-slate-50/50 transition-colors gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"w-12 h-12 bg-white border border-[#D4AF37]/10 flex items-center justify-center shadow-sm",children:e.jsx(E,{className:"h-5 w-5 text-[#AA771C]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-serif text-lg text-slate-900",children:t.id}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(t.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right flex items-center space-x-6 justify-between md:justify-end",children:[e.jsxs("div",{className:"text-left md:text-right",children:[e.jsxs("p",{className:"font-serif text-xl text-slate-900",children:["$",t.total.toFixed(2)]}),e.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 text-[9px] font-bold tracking-[0.2em] uppercase border mt-2 ${t.status==="delivered"?"bg-emerald-50 text-emerald-700 border-emerald-200/50":t.status==="shipped"?"bg-blue-50 text-blue-700 border-blue-200/50":"bg-amber-50 text-[#AA771C] border-[#D4AF37]/30"}`,children:[j(t.status),e.jsx("span",{className:"ml-1",children:t.status})]})]}),e.jsx("button",{onClick:()=>m(t.id),className:"p-3 text-slate-400 hover:text-[#AA771C] hover:bg-[#D4AF37]/5 transition-colors border border-transparent hover:border-[#D4AF37]/30",children:e.jsx(w,{className:"h-5 w-5"})})]})]},t.id)),l.length===0&&e.jsxs("div",{className:"p-16 text-center",children:[e.jsx(x,{className:"h-12 w-12 text-[#D4AF37]/30 mx-auto mb-6"}),e.jsx("p",{className:"text-sm text-slate-500 mb-6 tracking-wide",children:"No orders yet."}),e.jsx(v,{to:"/products",className:"text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] border-b border-[#D4AF37]/30 pb-1 hover:text-[#D4AF37] hover:border-[#D4AF37] transition-all",children:"Start shopping"})]})]})]})]}),c==="orders"&&e.jsxs("div",{className:"bg-white border border-[#D4AF37]/20 overflow-hidden shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[e.jsx("div",{className:"p-8 border-b border-[#D4AF37]/10",children:e.jsx("h3",{className:"text-2xl font-serif text-slate-900 tracking-tight",children:"Order History"})}),e.jsxs("div",{className:"divide-y divide-[#D4AF37]/10",children:[l.map(t=>e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-serif text-lg text-slate-900",children:t.id}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:t.createdAt})]}),e.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 text-[9px] font-bold tracking-[0.2em] uppercase border ${t.status==="delivered"?"bg-emerald-50 text-emerald-700 border-emerald-200/50":t.status==="shipped"?"bg-blue-50 text-blue-700 border-blue-200/50":"bg-amber-50 text-[#AA771C] border-[#D4AF37]/30"}`,children:[j(t.status),e.jsx("span",{className:"ml-1",children:t.status})]})]}),e.jsx("div",{className:"space-y-3 bg-slate-50 border border-[#D4AF37]/10 p-6",children:t.items.map((d,F)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-500 tracking-wide",children:[d.quantity,"x ",e.jsx("span",{className:"font-semibold text-slate-900",children:d.name})]}),e.jsxs("span",{className:"text-slate-900 font-medium",children:["$",(d.price*d.quantity).toFixed(2)]})]},F))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>m(t.id),className:"text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] hover:text-[#D4AF37] flex items-center transition-colors group",children:[e.jsx(w,{className:"h-4 w-4 mr-2"})," VIEW DETAILS"]}),e.jsxs("span",{className:"font-serif text-xl text-slate-900",children:["Total: $",t.total.toFixed(2)]})]})]},t.id)),l.length===0&&e.jsxs("div",{className:"p-20 text-center",children:[e.jsx(x,{className:"h-16 w-16 text-[#D4AF37]/30 mx-auto mb-6"}),e.jsx("p",{className:"text-sm text-slate-500 tracking-wide mb-6",children:"No orders yet."}),e.jsx(v,{to:"/products",className:"text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] border-b border-[#D4AF37]/30 pb-1 hover:text-[#D4AF37] hover:border-[#D4AF37] transition-all",children:"Browse products"})]})]})]}),c==="profile"&&e.jsxs("div",{className:"bg-white border border-[#D4AF37]/20 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[e.jsxs("div",{className:"p-8 border-b border-[#D4AF37]/10 flex flex-wrap gap-4 items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-serif text-slate-900 tracking-tight",children:"Profile Information"}),n?e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>{p(!1),r({name:s.name,phone:s.phone||"",street:s.address?.street||"",city:s.address?.city||"",state:s.address?.state||"",zip:s.address?.zip||"",country:s.address?.country||""})},className:"px-6 py-3 border border-transparent text-slate-400 text-[10px] font-bold tracking-[0.2em] uppercase hover:text-slate-600 transition-colors",disabled:b,children:"CANCEL"}),e.jsxs("button",{onClick:y,className:"px-8 py-3 bg-[#111] text-white text-[10px] font-bold tracking-[0.2em] uppercase hover:bg-black transition-colors disabled:opacity-50 relative overflow-hidden group border border-[#111] shadow-md",disabled:b,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-[#D4AF37]/20 to-transparent -translate-x-[150%] animate-[shimmer_3s_infinite]"}),e.jsx("span",{className:"relative z-10",children:b?"SAVING...":"SAVE CHANGES"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gradient-to-r from-[#D4AF37] to-[#F3E5AB] transition-all duration-500 ease-out group-hover:w-full"})]})]}):e.jsx("button",{onClick:()=>p(!0),className:"px-6 py-3 border border-[#D4AF37]/30 text-[#AA771C] text-[10px] font-bold tracking-[0.2em] uppercase hover:border-[#D4AF37] transition-colors",children:"EDIT PROFILE"})]}),e.jsxs("div",{className:"p-8 space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"FULL NAME"}),e.jsx("input",{type:"text",value:a.name,onChange:t=>r({...a,name:t.target.value}),readOnly:!n,className:`w-full px-4 h-12 transition-all text-sm tracking-wide ${n?"bg-transparent border border-[#D4AF37]/30 focus:border-[#D4AF37] focus:ring-0 text-slate-900":"bg-slate-50 border border-transparent text-slate-500 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"EMAIL"}),e.jsx("input",{type:"email",value:s.email,readOnly:!0,className:"w-full px-4 h-12 bg-slate-50 border border-transparent text-sm tracking-wide text-slate-500 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"PHONE"}),e.jsx("input",{type:"text",value:a.phone,onChange:t=>r({...a,phone:t.target.value}),readOnly:!n,className:`w-full px-4 h-12 transition-all text-sm tracking-wide ${n?"bg-transparent border border-[#D4AF37]/30 focus:border-[#D4AF37] focus:ring-0 text-slate-900":"bg-slate-50 border border-transparent text-slate-500 cursor-not-allowed"}`,placeholder:"e.g., +1 (555) 123-4567"})]})]}),e.jsxs("div",{className:"border-t border-[#D4AF37]/10 pt-10",children:[e.jsxs("h4",{className:"text-lg font-serif text-slate-900 mb-8 flex items-center tracking-tight",children:[e.jsx(T,{className:"h-5 w-5 mr-3 text-[#D4AF37]"}),"Shipping Address"]}),n?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"STREET ADDRESS"}),e.jsx("input",{type:"text",value:a.street,onChange:t=>r({...a,street:t.target.value}),className:"w-full px-4 h-12 bg-transparent border border-[#D4AF37]/30 focus:border-[#D4AF37] focus:ring-0 text-sm tracking-wide text-slate-900 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"CITY"}),e.jsx("input",{type:"text",value:a.city,onChange:t=>r({...a,city:t.target.value}),className:"w-full px-4 h-12 bg-transparent border border-[#D4AF37]/30 focus:border-[#D4AF37] focus:ring-0 text-sm tracking-wide text-slate-900 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"STATE / PROVINCE"}),e.jsx("input",{type:"text",value:a.state,onChange:t=>r({...a,state:t.target.value}),className:"w-full px-4 h-12 bg-transparent border border-[#D4AF37]/30 focus:border-[#D4AF37] focus:ring-0 text-sm tracking-wide text-slate-900 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"ZIP / POSTAL CODE"}),e.jsx("input",{type:"text",value:a.zip,onChange:t=>r({...a,zip:t.target.value}),className:"w-full px-4 h-12 bg-transparent border border-[#D4AF37]/30 focus:border-[#D4AF37] focus:ring-0 text-sm tracking-wide text-slate-900 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold tracking-[0.2em] uppercase text-[#AA771C] mb-3",children:"COUNTRY"}),e.jsx("input",{type:"text",value:a.country,onChange:t=>r({...a,country:t.target.value}),className:"w-full px-4 h-12 bg-transparent border border-[#D4AF37]/30 focus:border-[#D4AF37] focus:ring-0 text-sm tracking-wide text-slate-900 transition-all"})]})]}):e.jsx("div",{className:"p-6 bg-slate-50 border border-[#D4AF37]/10 shadow-inner",children:s.address?.street?e.jsxs("address",{className:"not-italic text-slate-600 leading-relaxed text-sm tracking-wide",children:[s.address.street,e.jsx("br",{}),s.address.city,", ",s.address.state," ",s.address.zip,e.jsx("br",{}),s.address.country]}):e.jsx("p",{className:"text-slate-500 text-sm",children:"No address saved yet. Click 'EDIT PROFILE' to add one."})})]})]})]})]}),g&&e.jsx(S,{order:l.find(t=>t.id===g),onClose:()=>m(null)})]})}export{q as UserDashboard};
